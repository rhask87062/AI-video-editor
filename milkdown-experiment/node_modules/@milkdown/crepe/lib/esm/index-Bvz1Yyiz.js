import { dropCursorConfig, cursor } from '@milkdown/kit/plugin/cursor';
import { $prose } from '@milkdown/kit/utils';
import { createVirtualCursor } from 'prosemirror-virtual-cursor';

const defineFeature = (editor, config) => {
  editor.config((ctx) => {
    ctx.update(dropCursorConfig.key, () => {
      var _a, _b;
      return {
        class: "crepe-drop-cursor",
        width: (_a = config == null ? void 0 : config.width) != null ? _a : 4,
        color: (_b = config == null ? void 0 : config.color) != null ? _b : false
      };
    });
  }).use(cursor);
  if ((config == null ? void 0 : config.virtual) === false) {
    return;
  }
  const virtualCursor = createVirtualCursor();
  editor.use($prose(() => virtualCursor));
};

export { defineFeature };
//# sourceMappingURL=index-Bvz1Yyiz.js.map
